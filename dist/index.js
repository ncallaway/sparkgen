module.exports=function(e){var n={};function r(t){if(n[t])return n[t].exports;var u=n[t]={i:t,l:!1,exports:{}};return e[t].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var u in e)r.d(t,u,function(n){return e[n]}.bind(null,u));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=0)}([function(e,n,r){e.exports=r(1)},function(e,n,r){function t(e,n,r,t,u,i,a){try{var o=e[i](a),c=o.value}catch(e){return void r(e)}o.done?n(c):Promise.resolve(c).then(t,u)}function u(e){return function(){var n=this,r=arguments;return new Promise((function(u,i){var a=e.apply(n,r);function o(e){t(a,u,i,o,c,"next",e)}function c(e){t(a,u,i,o,c,"throw",e)}o(void 0)}))}}var i=r(2),a=r(3),o=r(4),c=a.promisify(i.exists),s=a.promisify(i.readFile),f=a.promisify(i.writeFile),p=a.promisify(i.appendFile),l=a.promisify(i.readdir),x=a.promisify(i.mkdir),d=function(){var e=u(regeneratorRuntime.mark((function e(n,r,t){var u,i,a,o,p,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=l.length>3&&void 0!==l[3]?l[3]:{},i="A",e.next=4,s(n,"utf8");case 4:return a=e.sent,o=y(a,t),e.next=8,c(r);case 8:if(!e.sent){e.next=24;break}return e.next=11,s(r,"utf8");case 11:if(p=e.sent,o!=p){e.next=17;break}return console.log("".concat(r," exists and is identical. Skipping.")),e.abrupt("return",{action:"I",outputPath:r,original:u.original});case 17:if(u.overwrite){e.next=22;break}return console.log("".concat(r," already exists. Skipping.")),e.abrupt("return",{action:"S",outputPath:r,original:u.original});case 22:console.log("".concat(r," already exists. Overwriting.")),i="M";case 24:return e.next=26,w(r);case 26:return e.next=28,f(r,o,{encoding:"utf8"});case 28:return e.abrupt("return",{action:i,outputPath:r,original:u.original});case 29:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),m=function(){var e=u(regeneratorRuntime.mark((function e(n,r,t){var u,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.filter((function(e){return"A"==e.action})),i=u.map(t),a=[],!(i.length>0)){e.next=18;break}return o=i.join("\n"),e.next=7,c(n);case 7:if(!e.sent){e.next=13;break}return e.next=10,p(n,"\n".concat(o),{encoding:"utf8"});case 10:a.push({action:"M",outputPath:n}),e.next=18;break;case 13:return e.next=15,w(n);case 15:return e.next=17,f(n,o,{encoding:"utf8"});case 17:a.push({action:"A",outputPath:n});case 18:return e.abrupt("return",a);case 19:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),g=function(e,n){return e.reduce((function(e,r){var t=n instanceof Function?n(r):r[n],u=e.find((function(e){return e&&e.key===t}));return u?u.values.push(r):e.push({key:t,values:[r]}),e}),[])},v=function(){var e=u(regeneratorRuntime.mark((function e(n){var r,t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g(n,"index").map((function(e){return{index:e.key,exports:e.values.map((function(e){return e.export}))}})),t=r.filter((function(e){return e.exports.length>0})).map(function(){var e=u(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.exports.join("\n"),e.next=3,c(n.index);case 3:if(!e.sent){e.next=9;break}return e.next=6,p(n.index,"\n".concat(r),{encoding:"utf8"});case 6:return e.abrupt("return",{action:"M",outputPath:n.index});case 9:return e.next=11,w(n.index);case 11:return e.next=13,f(n.index,r,{encoding:"utf8"});case 13:return e.abrupt("return",{action:"A",outputPath:n.index});case 14:case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=4,Promise.all(t);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=u(regeneratorRuntime.mark((function e(n){var r,t,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(n);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,l(n);case 6:return r=e.sent,t=r.filter((function(e){return e.endsWith(".js")})),u=t.map((function(e){var r="".concat(process.cwd()).concat(o.sep).concat(o.join(n,e));return require(r)})).filter((function(e){return e.cmd})),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();n.trimEnding=function(e,n){return e.endsWith(n)?e.substring(0,e.length-n.length):e},n.generateFile=d,n.generateExports=m,n.findCommands=h,n.templateGenerator=function(e,n,r){return{cmd:e,aliases:n,run:(t=u(regeneratorRuntime.mark((function e(n,t){var u,i,a,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=n.f||n.force,n._.shift(),!(n._.length<1)){e.next=5;break}return t(),e.abrupt("return");case 5:return e.next=7,Promise.all(n._.map((function(e){return b(e,u,r)})));case 7:return i=e.sent,a=i.filter((function(e){return"A"==e.action})),o=a.filter((function(e){return!e.original.noIndex})).map((function(e){return{index:e.original.indexPath,export:e.original.exports}})),e.next=12,v(o);case 12:return c=e.sent,e.abrupt("return",i.concat(c));case 14:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})};var t};var b=function(){var e=u(regeneratorRuntime.mark((function e(n,r,t){var u,i,a,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t(n),i="_generators/templates/".concat(u.template),a="".concat(u.root,"/").concat(u.output),o="".concat(u.root,"/").concat(u.index||"index.ts"),c=u.exports,e.next=7,d(i,a,u.replacements,{overwrite:r,original:{indexPath:o,exports:c,noIndex:u.noIndex}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),y=function(e,n){var r=e;return n.forEach((function(e){r=r.replace(e.r,e.v)})),r},w=function(){var e=u(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.dirname(n),e.next=3,x(r,{recursive:!0});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},function(e,n){e.exports=require("fs")},function(e,n){e.exports=require("util")},function(e,n){e.exports=require("path")}]);